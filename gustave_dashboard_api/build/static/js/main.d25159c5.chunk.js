(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t){e.exports="data:image/png;base64,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"},23:function(e,t,a){e.exports=a(53)},29:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(19),s=a.n(l),o=(a(29),a(6)),c=a(7),m=a(9),i=a(8),u=a(10),d=a(55),h=a(56),g=a(20),p=a(11),f=a.n(p),A=RegExp(/^[a-zA-Z0-9.!#$%&\u2019*+\/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/),E=RegExp(/^(\(?\+?[0-9]*\)?)?[0-9_\- \(\)]*$/),b=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(i.a)(t).call(this,e))).state={nom:"",prenom:"",email:"",tel:"",adresse:"",date:"",formErrors:{nom:"",prenom:"",email:"",tel:"",adresse:""},send:0},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){e.preventDefault();var t=e.target,a=t.name,n=t.value,r=this.state.formErrors;switch(a){case"nom":r.nom=n.length<3?"Minimum 3 caract\xe8res requis !":"";break;case"prenom":r.prenom=n.length<3?"Minimum 3 caract\xe8res requis !":"";break;case"tel":r.tel=E.test(n)?"":"Num\xe9ro invalide !";break;case"email":r.email=A.test(n)?"":"Adresse mail invalide !";break;case"adresse":r.adresse=n.length<10?"Minimum 10 caract\xe8res requis !":""}this.setState({send:0}),this.setState(Object(g.a)({formErrors:r},a,n))}},{key:"putDataToDB",value:function(e){var t=this;e.preventDefault(),!function(e){var t=e.formErrors,a=e.nom,n=e.prenom,r=e.email,l=e.adresse,s=e.tel,o=!0;return Object.values(t).forEach(function(e){e.length>0&&(o=!1)}),0===Object.values(a).length&&(o=!1),0===Object.values(n).length&&(o=!1),0===Object.values(s).length&&(o=!1),0===Object.values(r).length&&(o=!1),0===Object.values(l).length&&(o=!1),o}(this.state)?console.error("FORM INVALID - DISPLAY ERROR MESSAGE"):(console.log("\n        --SUBMITTING--\n        nom: ".concat(this.state.nom,"\n        prenom: ").concat(this.state.prenom,"\n        Email: ").concat(this.state.email,"\n        Tel: ").concat(this.state.tel,"\n        Date: ").concat(new Date,"\n        Adresse: ").concat(this.state.adresse,"      \n      ")),f.a.post("/api/putData",{nom:this.state.nom,prenom:this.state.prenom,tel:this.state.tel,email:this.state.email,adresse:this.state.adresse,date:new Date}).then(function(e){console.log(e),t.setState({nom:"",prenom:"",email:"",tel:"",adresse:"",date:"",formErrors:{nom:"",prenom:"",email:"",tel:"",adresse:""},send:1})}).catch(function(e){console.log(e),t.setState({send:-1})}))}},{key:"render",value:function(){var e=this,t=this.state.formErrors,a=this.state;return r.a.createElement("div",{className:"container contact-form"},r.a.createElement("form",null,r.a.createElement("h3",null,"Passer une commande !"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:t.nom.length>0?"form-control is-invalid":"form-control",id:"inputDanger1",name:"nom",placeholder:"Nom",value:this.state.nom,onChange:function(t){return e.handleChange(t)}}),t.nom.length>0&&r.a.createElement("span",{className:"text-danger"},t.nom)),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:t.prenom.length>0?"form-control is-invalid":"form-control",id:"inputDanger1",name:"prenom",placeholder:"Prenom",value:this.state.prenom,onChange:function(t){return e.handleChange(t)}}),t.prenom.length>0&&r.a.createElement("span",{className:"text-danger"},t.prenom)),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:t.tel.length>0?"form-control is-invalid":"form-control",name:"tel",placeholder:"Num\xe9ro T\xe9l\xe9phonique",value:this.state.tel,onChange:function(t){return e.handleChange(t)}}),t.tel.length>0&&r.a.createElement("span",{className:"text-danger"},t.tel))),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:t.email.length>0?"form-control is-invalid":"form-control",name:"email",placeholder:"Adresse mail",value:this.state.email,onChange:function(t){return e.handleChange(t)}}),t.email.length>0&&r.a.createElement("span",{className:"text-danger"},t.email)),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:t.adresse.length>0?"form-control is-invalid":"form-control",name:"adresse",placeholder:"Votre adresse",value:this.state.adresse,onChange:function(t){return e.handleChange(t)}}),t.adresse.length>0&&r.a.createElement("span",{className:"text-danger"},t.adresse)),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btnContactSubmit float-right form-control",onClick:function(t){return e.putDataToDB(t)}},"Envoyer"),1===a.send?r.a.createElement("p",{className:"text-success"},"Demande envoy\xe9 !"):null)))))}}]),t}(n.Component),v=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={data:[],intervalIsSet:!1},a.getDataFromDb=function(){fetch("/api/getData").then(function(e){return e.json()}).then(function(e){return a.setState({data:e.data})}),console.log(a.state.data)},a.delDataFromDB=function(e){f.a.delete("/api/deleteData",{_id:e}).then(function(e){a.getDataFromDb(),console.log("commande supprim\xe9e")}).catch(function(e){return console.log("erreur de supprission")})},a.acceptCommand=function(e){f.a.post("/api/acceptcommand",{command:e}).then(function(e){console.log("commande valid\xe9e"),a.getDataFromDb()}).catch(function(e){return console.log("erreur de validation")})},a.rejectCommand=function(e){f.a.post("/api/rejectcommand",{command:e}).then(function(e){console.log("commande r\xe9fus\xe9e"),a.getDataFromDb()}).catch(function(e){return console.log("erreur de invalidation")})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){if(this.getDataFromDb(),!this.state.intervalIsSet){var e=setInterval(this.getDataFromDb,5e3);this.setState({intervalIsSet:e})}}},{key:"componentWillUnmount",value:function(){this.state.intervalIsSet&&(clearInterval(this.state.intervalIsSet),this.setState({intervalIsSet:null}))}},{key:"render",value:function(){var e=this,t=this.state.data;return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"d-flex align-content-start flex-wrap m-3"},t.sort(function(e,t){return Math.pow(e.valid,2)-Math.pow(t.valid,2)}).map(function(t,a){return r.a.createElement("div",{className:"card h-100 bg-light m-3",style:{width:"285px"},key:a},r.a.createElement("button",{type:"button",onClick:function(){return e.delDataFromDB(t._id)},className:"close align-self-end mr-1 text-danger","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7")),r.a.createElement("div",{className:"card-body pb-0"},r.a.createElement("span",{className:"text-muted"},r.a.createElement("span",{className:"mb-0"},r.a.createElement("div",{classname:"d-inline-block"},r.a.createElement("i",{className:"fa fa-user-circle-o fa-3x text-info ","aria-hidden":"true"}),r.a.createElement("p",{className:"text-right mb-0 h6"},t.nom," ",t.prenom))),r.a.createElement("hr",{className:"mt-1"}),r.a.createElement("p",{className:"text-right mb-0"},r.a.createElement("i",{className:"fa fa-phone-square fa-lg text-info mb-0 mr-2","aria-hidden":"true"}),t.tel),r.a.createElement("i",{className:"fa fa-envelope-o fa-lg text-info my-2 mr-2","aria-hidden":"true"})," ",t.email,r.a.createElement("br",null),r.a.createElement("i",{className:"fa fa-map-marker fa-2x text-info my-0 mr-2","aria-hidden":"true"})," ",t.adresse,r.a.createElement("br",null),r.a.createElement("i",{className:"fa fa-calendar-o fa-lg text-info my-2 mr-2","aria-hidden":"true"})," ",t.date.substring(0,10),r.a.createElement("i",{className:"fa fa-clock-o fa-lg ml-5 text-info mr-2 mb-4","aria-hidden":"true"})," ",t.date.substring(11,16),r.a.createElement("br",null)),function(){switch(t.valid){case 0:return r.a.createElement("div",{className:"mb-5"},r.a.createElement("button",{onClick:function(){return e.acceptCommand(t)},className:"btn btn-outline-success btn-sm mt-2 float-left px-4"},"Accepter"),r.a.createElement("button",{onClick:function(){return e.rejectCommand(t)},className:"btn btn-outline-danger btn-sm ml-2 mt-2 float-right px-4"},"R\xe9fuser"));case 1:return r.a.createElement("p",{className:"float-right text-success mb-2 mr-0 mt-4 h6"},"Commande accept\xe9e");default:return r.a.createElement("p",{className:"float-right text-danger mb-2 mr-0 mt-4 h6"},"Commande r\xe9fus\xe9e")}}()))})))}}]),t}(n.Component),N=a(21),D=a.n(N);function w(){return r.a.createElement(b,null)}function F(){return r.a.createElement(v,null)}var I=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement("React-Fragment",null,r.a.createElement("nav",{className:"navbar navbar-light bg-light p-1"},r.a.createElement("i",{className:"navbar-brand"},r.a.createElement("img",{src:D.a,width:"50px",className:"d-inline-block mx-2",alt:""}))),r.a.createElement(h.a,{exact:!0,path:"/",component:F}),r.a.createElement(h.a,{path:"/addcommand",component:w})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[23,2,1]]]);
//# sourceMappingURL=main.d25159c5.chunk.js.map